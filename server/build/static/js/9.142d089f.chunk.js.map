{"version":3,"sources":["../node_modules/react-bootstrap/esm/createChainedFunction.js","../node_modules/react-bootstrap/esm/SafeAnchor.js","../node_modules/react-bootstrap/esm/Button.js","api/payment.js","views/Order/Product.jsx","views/Order/Order.jsx"],"names":["createChainedFunction","_len","arguments","length","funcs","Array","_key","filter","f","reduce","acc","Error","_len2","args","_key2","apply","this","isTrivialHref","href","trim","SafeAnchor","React","forwardRef","_ref","ref","_ref$as","as","Component","disabled","onKeyDown","props","_objectWithoutPropertiesLoose","handleClick","event","onClick","preventDefault","stopPropagation","role","tabIndex","createElement","_extends","key","displayName","Button","bsPrefix","variant","size","active","className","block","type","prefix","useBootstrapPrefix","classes","classNames","defaultProps","url","createOrder","amount","currency","console","log","axios","post","then","res","data","catch","err","Wrapper","styled","section","Flex","div","Title","Price","p","Hr","hr","Product","dispatch","useDispatch","_id","name","style","display","justifyContent","width","price","quantity","payload","id","Heading","Text","Head","U","u","PayBtn","button","Order","user","useSelector","state","products","order","a","creationId","options","process","handler","response","orderCreationId","razorpayPaymentId","razorpay_payment_id","razorpayOrderId","razorpay_order_id","razorpaySignature","razorpay_signature","userId","values","result","window","Razorpay","open","auth","marginTop","float","to","map","product","index"],"mappings":"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","file":"static/js/9.142d089f.chunk.js","sourcesContent":["/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\nfunction createChainedFunction() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.filter(function (f) {\n    return f != null;\n  }).reduce(function (acc, f) {\n    if (typeof f !== 'function') {\n      throw new Error('Invalid Argument Type, must only provide functions, undefined, or null.');\n    }\n\n    if (acc === null) return f;\n    return function chainedFunction() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      // @ts-ignore\n      acc.apply(this, args); // @ts-ignore\n\n      f.apply(this, args);\n    };\n  }, null);\n}\n\nexport default createChainedFunction;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport createChainedFunction from './createChainedFunction';\n\nfunction isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\n/**\n * There are situations due to browser quirks or Bootstrap CSS where\n * an anchor tag is needed, when semantically a button tag is the\n * better choice. SafeAnchor ensures that when an anchor is used like a\n * button its accessible. It also emulates input `disabled` behavior for\n * links, which is usually desirable for Buttons, NavItems, DropdownItems, etc.\n */\n\n\nvar SafeAnchor = React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'a' : _ref$as,\n      disabled = _ref.disabled,\n      onKeyDown = _ref.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"disabled\", \"onKeyDown\"]);\n\n  var handleClick = function handleClick(event) {\n    var href = props.href,\n        onClick = props.onClick;\n\n    if (disabled || isTrivialHref(href)) {\n      event.preventDefault();\n    }\n\n    if (disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === ' ') {\n      event.preventDefault();\n      handleClick(event);\n    }\n  };\n\n  if (isTrivialHref(props.href)) {\n    props.role = props.role || 'button'; // we want to make sure there is a href attribute on the node\n    // otherwise, the cursor incorrectly styled (except with role='button')\n\n    props.href = props.href || '#';\n  }\n\n  if (disabled) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    onClick: handleClick,\n    onKeyDown: createChainedFunction(handleKeyDown, onKeyDown)\n  }));\n});\nSafeAnchor.displayName = 'SafeAnchor';\nexport default SafeAnchor;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nvar Button = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      size = _ref.size,\n      active = _ref.active,\n      className = _ref.className,\n      block = _ref.block,\n      type = _ref.type,\n      as = _ref.as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"size\", \"active\", \"className\", \"block\", \"type\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn');\n  var classes = classNames(className, prefix, active && 'active', variant && prefix + \"-\" + variant, block && prefix + \"-block\", size && prefix + \"-\" + size);\n\n  if (props.href) {\n    return /*#__PURE__*/React.createElement(SafeAnchor, _extends({}, props, {\n      as: as,\n      ref: ref,\n      className: classNames(classes, props.disabled && 'disabled')\n    }));\n  }\n\n  if (ref) {\n    props.ref = ref;\n  }\n\n  if (type) {\n    props.type = type;\n  } else if (!as) {\n    props.type = 'button';\n  }\n\n  var Component = as || 'button';\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    className: classes\n  }));\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;","import axios from 'axios'\r\nimport Data from '../config/default.json';\r\nlet url = Data.url\r\n\r\nexport const createOrder = ({amount , currency}) => {\r\n    console.log('amount' , amount)\r\n    return axios.post(url+'/api/payment/order' , {amount , currency}).then(res => {\r\n        return res.data\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nexport const processOrder = (values) => {\r\n    console.log('val' , values)\r\n    return axios.post(url+'/api/payment/success' , values).then(res => {\r\n        return res.data\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {useSelector , useDispatch} from 'react-redux'\r\nimport { AiOutlineDelete  } from 'react-icons/ai'\r\n\r\nconst Product = (props) => {\r\n    const {data} = props\r\n    const dispatch = useDispatch()\r\n\r\n    console.log(\"props data\" , data._id)\r\n\r\n    const handleDelete = () => {\r\n        dispatch({type: 'REMOVE_PRODUCT' , payload: {id: data._id} })\r\n    }\r\n\r\n    return (\r\n        <Wrapper>\r\n            <Flex>\r\n            <Title>{data.name}</Title>\r\n            <div style={{display: 'flex' ,justifyContent: 'space-around' , width: '20%' }}>\r\n            <Price>$ {data.price}</Price>\r\n            <Price>{data.quantity || 1}</Price>\r\n            <button onClick={handleDelete} ><AiOutlineDelete /></button>\r\n            </div>\r\n            </Flex>\r\n            <Hr />\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst Wrapper = styled.section`\r\n`;\r\n\r\nconst Flex = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 85%;\r\n    margin: auto;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-size: 20px;\r\n    font-weight: light;\r\n`;\r\n\r\nconst Price = styled.p`\r\n    font-weight: bold;\r\n`;\r\n\r\nconst Hr = styled.hr`\r\n    width: 90%;\r\n`;\r\n\r\nexport default Product\r\n","import React , {useState} from 'react'\r\nimport { createOrder , processOrder } from '../../api/payment'\r\nimport {useSelector , useDispatch} from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport Product from './Product'\r\nimport { Button } from 'react-bootstrap'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Order = (props) => {\r\n\r\n    const user = useSelector(state => state.user)\r\n    const products = useSelector(state => state.order.products)\r\n\r\n    const handleClick = async() => {\r\n        let amount = 100;\r\n        let currency = \"INR\"\r\n        const order = await createOrder({ amount , currency });\r\n        const creationId = order.id\r\n\r\n        var options = {\r\n            \"key_id\": process.env.REACT_APP_KEY_ID,\r\n            \"amount\": 1234, \r\n            \"currency\": currency,\r\n            \"name\": \"test\",\r\n            \"description\": \"Booking Request amount for \",\r\n            \"image\": \"https://example.com/your_logo\",\r\n            \"order_id\": creationId,\r\n            handler: async function (response) {\r\n                const data = {\r\n                    orderCreationId: creationId,\r\n                    razorpayPaymentId: response.razorpay_payment_id,\r\n                    razorpayOrderId: response.razorpay_order_id,\r\n                    razorpaySignature: response.razorpay_signature,\r\n                    userId: user._id,\r\n                    amount\r\n                };\r\n                const result = await processOrder(data)\r\n                console.log(\"res\" , result)\r\n                // alert(result.msg);\r\n            },\r\n            \"prefill\": {\r\n              \"name\": 'test',\r\n              \"email\": 'test@gmail.com',\r\n              \"contact\": 9999999999,\r\n            },\r\n            \"notes\": {\r\n              \"address\": \"note value\"\r\n            },\r\n            \"theme\": {\r\n              \"color\": \"#FFFF00\"\r\n            }\r\n          };\r\n\r\n        let rzp = new window.Razorpay(options);\r\n        rzp.open();\r\n    }\r\n\r\n    if(props.auth === false) {\r\n        return 'login to continue'\r\n    }\r\n\r\n    return (\r\n        <Wrapper>\r\n          <Head><U>Confirm Your Order</U></Head>\r\n          <Heading>\r\n            <Text>Name</Text>\r\n            <div style={{display: 'flex' ,justifyContent: 'space-between' , width: '20%' }}>\r\n            <Text>Price</Text>\r\n            <Text>Quantity</Text>\r\n            </div>\r\n          </Heading>\r\n          <Hr />\r\n\r\n          {products.length === 0 ? \r\n            <>\r\n            <Head>Cart is empty , continue shopping <i className=\"fas fa-star\"></i></Head> \r\n            <Button style={{marginTop: \"20px\" , display: 'float' , float: 'right'}}><NavLink to={'/'}>Continue Shopping</NavLink></Button>\r\n            </>\r\n          :  <>\r\n            {products.map((product , index) => {\r\n                return <Product data={product} key={index} />\r\n            })}\r\n            <div style={{width: \"90%\" , marginTop: \"20px\"}}>\r\n            <PayBtn onClick={handleClick} >Confim </PayBtn>\r\n            </div>\r\n            </>\r\n          }\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst Wrapper = styled.section`\r\n  width 80%;\r\n  margin: auto;\r\n  margin-top: 5%;\r\n`;\r\n\r\nconst Heading = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 85%;\r\n  margin: auto;\r\n`;\r\nconst Text = styled.div`\r\n  font-size: 20px;\r\n  font-weight: light;\r\n`;\r\n\r\nconst Head = styled.p`\r\n  font-size: 24px;\r\n  text-align: center;\r\n  font-weight: lighter;\r\n`;\r\n\r\nconst U = styled.u` \r\n  text-decoration: none;\r\n  border-bottom: 1px solid black;\r\n`;\r\n\r\nconst Hr = styled.hr`\r\n    width: 90%;\r\n`;\r\n\r\nconst PayBtn = styled.button`\r\n  display: float;\r\n  float: right;\r\n  text-align: center;\r\n  padding: 10px 40px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 1px #e6e5ea;\r\n  margin: 1em;\r\n  // margin-right: 2em;\r\n`;\r\n\r\n\r\nexport default Order\r\n"],"sourceRoot":""}